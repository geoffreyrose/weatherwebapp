!function($){"use strict";function e(e,t){return"f"===e?Math.round(5/9*(t-32)):Math.round(1.8*t+32)}$.extend({simpleWeather:function(t){t=$.extend({location:"",woeid:"",unit:"f",success:function(e){},error:function(e){}},t);var i=new Date,o="https://query.yahooapis.com/v1/public/yql?format=json&rnd="+i.getFullYear()+i.getMonth()+i.getDay()+i.getHours()+"&diagnostics=true&callback=?&q=";if(""!==t.location){var n="";n=/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/.test(t.location)?"("+t.location+")":t.location,o+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'+n+'") and u="'+t.unit+'"'}else if(""!==t.woeid)o+="select * from weather.forecast where woeid="+t.woeid+' and u="'+t.unit+'"';else{if(""===t.zipcode)return t.error("Could not retrieve weather due to an invalid location."),!1;o+='select * from weather.forecast where location in ("'+t.zipcode+'") and u="'+t.unit+'"'}return $.getJSON(encodeURI(o),function(i){if(null!==i&&null!==i.query&&null!==i.query.results&&"Yahoo! Weather Error"!==i.query.results.channel.description){var o=i.query.results.channel,n={},r,s=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"],a="https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png";n.title=o.item.title,n.temp=o.item.condition.temp,n.code=o.item.condition.code,n.todayCode=o.item.forecast[0].code,n.currently=o.item.condition.text,n.high=o.item.forecast[0].high,n.low=o.item.forecast[0].low,n.text=o.item.forecast[0].text,n.humidity=o.atmosphere.humidity,n.pressure=o.atmosphere.pressure,n.rising=o.atmosphere.rising,n.visibility=o.atmosphere.visibility,n.sunrise=o.astronomy.sunrise,n.sunset=o.astronomy.sunset,n.description=o.item.description,n.city=o.location.city,n.country=o.location.country,n.region=o.location.region,n.updated=o.item.pubDate,n.link=o.item.link,n.units={temp:o.units.temperature,distance:o.units.distance,pressure:o.units.pressure,speed:o.units.speed},n.wind={chill:o.wind.chill,direction:s[Math.round(o.wind.direction/22.5)],speed:o.wind.speed},o.item.condition.temp<80&&o.atmosphere.humidity<40?n.heatindex=-42.379+2.04901523*o.item.condition.temp+10.14333127*o.atmosphere.humidity-.22475541*o.item.condition.temp*o.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(o.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(o.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(o.item.condition.temp,2)*o.atmosphere.humidity+8.5282*Math.pow(10,-4)*o.item.condition.temp*Math.pow(o.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(o.item.condition.temp,2)*Math.pow(o.atmosphere.humidity,2):n.heatindex=o.item.condition.temp,"3200"==o.item.condition.code?(n.thumbnail=a,n.image=a):(n.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+o.item.condition.code+"ds.png",n.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+o.item.condition.code+"d.png"),n.alt={temp:e(t.unit,o.item.condition.temp),high:e(t.unit,o.item.forecast[0].high),low:e(t.unit,o.item.forecast[0].low)},"f"===t.unit?n.alt.unit="c":n.alt.unit="f",n.forecast=[];for(var c=0;c<o.item.forecast.length;c++)r=o.item.forecast[c],r.alt={high:e(t.unit,o.item.forecast[c].high),low:e(t.unit,o.item.forecast[c].low)},"3200"==o.item.forecast[c].code?(r.thumbnail=a,r.image=a):(r.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+o.item.forecast[c].code+"ds.png",r.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+o.item.forecast[c].code+"d.png"),n.forecast.push(r);t.success(n)}else t.error("There was a problem retrieving the latest weather information.")}),this}})}(jQuery);