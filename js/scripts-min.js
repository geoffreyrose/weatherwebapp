function weatherUnit(){$('[name="weather-unit"]').is(":checked")?($(".celsius").hide(),$(".fahrenheit").show()):($(".fahrenheit").hide(),$(".celsius").show(),$(".current-weather .celsius").css({display:"inline-block"}))}function loadWeather(e,a,t){$(".select-location").hide(),$(".weather, .weather-controls").show(),$.simpleWeather({zipcode:e,unit:"f",location:a,woeid:t,success:function(e){var a="<h1>"+e.city+", "+e.region+"</h1>",t='<p class="weather-icon"><span class="weather-'+e.code+'"></span></p>',s=a+t,i='<h2 class="current-weather">'+e.currently+'<span class="fahrenheit"> '+e.temp+'&deg;F</span><span class="celsius"> '+e.alt.temp+"&deg;C</span></h2>",o='<section class="forcast fahrenheit"><h3>Today</h3><ul class="weatherforcast"><li>High '+e.forecast[0].high+"&deg;F</li><li>Low "+e.forecast[0].low+'&deg;F</li></ul><h3>Tomorrow</h3><ul class="weatherforcast"><li>High '+e.forecast[1].high+"&deg;F</li><li>Low "+e.forecast[1].low+'&deg;F</li></ul></section><section class="forcast celsius"><h3>Today</h3><ul class="weatherforcast"><li>High '+e.forecast[0].alt.high+"&deg;C</li><li>Low "+e.forecast[0].alt.low+'&deg;C</li></ul><h3>Tomorrow</h3><ul class="weatherforcast"><li>High '+e.forecast[1].alt.high+"&deg;C</li><li>Low "+e.forecast[1].alt.low+"&deg;C</li></ul></section>",l=e.sunrise,n=l.indexOf(":")+1,r=l.indexOf(" ",n),c=l.substring(n,r),h=c;h.length<=1&&(l=l.slice(0,2)+"0"+l.slice(2));var u=e.sunset;n=u.indexOf(":")+1,r=u.indexOf(" ",n),c=u.substring(n,r);var d=c;d.length<=1&&(u=u.slice(0,2)+"0"+u.slice(2));for(var w='<section class="sunrise"><ul><li><h3>Sunrise</h3></li><li class="time">'+l+'</li></ul><ul><li><h3>Sunset</h3></li><li class="time">'+u+"</li></ul></section>",p="<ul>",f=0;4>=f;f++)p+='<li><span class="weekday">'+e.forecast[f].day+'</span><span class="weather-icon weather-'+e.forecast[f].code+'"></span><span><span class="fahrenheit">'+e.forecast[f].high+'&deg;F</span><span class="celsius">'+e.forecast[f].alt.high+'&deg;C</span></span><span><span class="fahrenheit">'+e.forecast[f].low+'&deg;F</span><span class="celsius">'+e.forecast[f].alt.low+"&deg;C</span></span></li>";p+="</ul>",$(".weather .location").html(s),$(".weather .current-weather").html(i),$(".weather .forcast").html(o),$(".weather .sunInfo").html(w),$(".weather .fiveday").html(p)},error:function(e){$(".weather").html("<p>"+e+"</p>")}})}function getGeo(){navigator.geolocation.getCurrentPosition(function(e){loadWeather("",e.coords.latitude+","+e.coords.longitude)})}var urlParams;(window.onpopstate=function(){var e,a=/\+/g,t=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(a," "))},i=window.location.search.substring(1);for(urlParams={};e=t.exec(i);)urlParams[s(e[1])]=s(e[2])})(),$(document).ready(function(){var e=urlParams.zip,a=urlParams.city;"standalone"in navigator&&!navigator.standalone&&/iphone|ipod|ipad/gi.test(navigator.platform)&&/Safari/i.test(navigator.appVersion)&&$("p.ios").show(),"geolocation"in navigator?$(".current-location").show():$(".current-location").hide(),$(".current-location").on("click",function(){getGeo()}),e||a?($(".select-location").hide(),$(".weather, .weather-controls").show(),loadWeather(e,a,"")):getGeo(),$(".weather-controls .change").on("click",function(){$(".select-location").show(),$(".weather, .weather-controls").hide()}),weatherUnit(),$('[name="weather-unit"]').on("change",function(){weatherUnit()}),$("#owl-example").owlCarousel({items:1,itemsCustom:!1,itemsDesktop:[1199,1],itemsDesktopSmall:[980,1],itemsTablet:[768,1],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3})});