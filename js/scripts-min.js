function loadWeather(e,a,t){$(".select-location").hide(),$(".weather, .weather-controls").show(),$.simpleWeather({zipcode:e,unit:"f",location:a,woeid:t,success:function(e){for(var a="<h1>"+e.city+", "+e.region+"</h1>",t='<p class="weather-icon"><span class="weather-'+e.code+'"></span></p>',o=a+t,s='<h2 class="current-weather">'+e.currently+'<span class="fahrenheit"> '+e.temp+'&deg;F</span><span class="celsius"> '+e.alt.temp+"&deg;C</span></h2>",i='<section class="forcast fahrenheit"><h3>Today</h3><ul class="weatherforcast"><li>High '+e.forecast[0].high+"&deg;F</li><li>Low "+e.forecast[0].low+'&deg;F</li></ul><h3>Tomorrow</h3><ul class="weatherforcast"><li>High '+e.forecast[1].high+"&deg;F</li><li>Low "+e.forecast[1].low+'&deg;F</li></ul></section><section class="forcast celsius"><h3>Today</h3><ul class="weatherforcast"><li>High '+e.forecast[0].alt.high+"&deg;C</li><li>Low "+e.forecast[0].alt.low+'&deg;C</li></ul><h3>Tomorrow</h3><ul class="weatherforcast"><li>High '+e.forecast[1].alt.high+"&deg;C</li><li>Low "+e.forecast[1].alt.low+"&deg;C</li></ul></section>",l='<section class="sunrise"><ul><li><h3>Sunrise</h3></li><li class="time">'+e.sunrise+'</li></ul><ul><li><h3>Sunset</h3></li><li class="time">'+e.sunset+"</li></ul></section>",n="<ul>",c=0;4>=c;c++)n+='<li><span class="weekday">'+e.forecast[c].day+'</span><span class="weather-icon weather-'+e.forecast[c].code+'"></span><span><span class="fahrenheit">'+e.forecast[c].high+'&deg;F</span><span class="celsius">'+e.forecast[c].alt.high+'&deg;C</span></span><span><span class="fahrenheit">'+e.forecast[c].low+'&deg;F</span><span class="celsius">'+e.forecast[c].alt.low+"&deg;C</span></span></li>";n+="</ul>",$(".weather .location").html(o),$(".weather .current-weather").html(s),$(".weather .forcast").html(i),$(".weather .sunInfo").html(l),$(".weather .fiveday").html(n)},error:function(e){$(".weather").html("<p>"+e+"</p>")}})}function getGeo(){var e="",a="";$.getScript("//www.google.com/jsapi",function(){cache={coords:{latitude:google.loader.ClientLocation.latitude,longitude:google.loader.ClientLocation.longitude}};var e=cache.coords.latitude,a=cache.coords.longitude;loadWeather("",e+","+a)})}var urlParams;(window.onpopstate=function(){var e,a=/\+/g,t=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(a," "))},s=window.location.search.substring(1);for(urlParams={};e=t.exec(s);)urlParams[o(e[1])]=o(e[2])})(),$(document).ready(function(){var e=urlParams.zip,a=urlParams.city;"standalone"in navigator&&!navigator.standalone&&/iphone|ipod|ipad/gi.test(navigator.platform)&&/Safari/i.test(navigator.appVersion)&&$("p.ios").show(),"geolocation"in navigator?$(".current-location").show():$(".current-location").hide(),$(".current-location").on("click",function(){getGeo()}),e||a?($(".select-location").hide(),$(".weather, .weather-controls").show(),loadWeather(e,a,"")):"geolocation"in navigator&&getGeo(),$(".weather-controls .change").on("click",function(){$(".select-location").show(),$(".weather, .weather-controls").hide()}),$(".f-deg").on("click",function(){$(".celsius").hide(),$(".fahrenheit").show()}),$(".c-deg").on("click",function(){$(".fahrenheit").hide(),$(".celsius").show(),$(".current-weather .celsius").css({display:"inline-block"})}),$("#owl-example").owlCarousel({items:1,itemsCustom:!1,itemsDesktop:[1199,1],itemsDesktopSmall:[980,1],itemsTablet:[768,1],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3})});